document.write('<script type="text/javascript" src="http://api.map.baidu.com/api?v=1.3"></script>'),function(e,t){e.fn.baidu=function(t){var n=e(this).attr("id");n==""&&(n="MAP_"+(new Date).getTime(),e(this).attr({id:n}));var r=[BMAP_ANCHOR_TOP_LEFT,BMAP_ANCHOR_TOP_RIGHT,BMAP_ANCHOR_BOTTOM_LEFT,BMAP_ANCHOR_BOTTOM_RIGHT],i=[BMAP_NAVIGATION_CONTROL_LARGE,BMAP_NAVIGATION_CONTROL_SMALL,BMAP_NAVIGATION_CONTROL_PAN,BMAP_NAVIGATION_CONTROL_ZOOM],s={mapTypes:[BMAP_NORMAL_MAP,BMAP_HYBRID_MAP],anchor:r[1]},o={zoom:16,xpoint:118.07408,ypoint:24.45124,marker:!1,minZoom:1,maxZoom:19,scroll:!0,nvgat:{show:!1,anchor:0,type:0},maptype:!1,overview:!1};t=e.extend(o,t);var u=e.baiduMap=new BMap.Map(n,{minZoom:t.minZoom,maxZoom:t.maxZoom});t.scroll&&u.enableScrollWheelZoom(),t.nvgat.show&&u.addControl(new BMap.NavigationControl({anchor:r[t.nvgat.anchor],type:i[t.nvgat.type]})),t.maptype&&u.addControl(new BMap.MapTypeControl(s)),t.overview&&u.addControl(new BMap.OverviewMapControl({isOpen:!0,anchor:r[2]})),u.centerAndZoom(new BMap.Point(t.xpoint,t.ypoint),t.zoom),t.marker&&e.addPoint(t.xpoint,t.ypoint)}}(jQuery,document),jQuery.extend({baiduMap:null,mapLabel:null,handLayer:null,icons:{main:1,food:1,lodging:1,music:1,scene:1,service:1,shopping:1},addPoint:function(e,t,n,r){if(this.baiduMap===null)return!1;var i=new BMap.Marker(new BMap.Point(e,t));return this.baiduMap.addOverlay(i),n&&i.setLabel(new BMap.Label(n,{offset:new BMap.Size(20,-10)})),i},addLabel:function(e){if(this.baiduMap===null)return!1;this.mapLabel===null&&(this.mapLabel=this.mapOverlay());var t={xpoint:118.07408,ypoint:24.45124,width:60,height:80,drag:!1,data:null};e=$.extend(t,e);if(e.data===null)return!1;var n=new BMap.Point(e.xpoint,e.ypoint),r=new this.mapLabel(n,e.width,e.height,e.data,e.drag);return this.baiduMap.addOverlay(r),r.getDiv()},mapOverlay:function(){if(this.baiduMap===null)return!1;var e=function(e,t,n,r,i){this._center=e,this._width=t,this._height=n,this._data=r,this._drag=i};return e.prototype=new BMap.Overlay,e.prototype.initialize=function(e){this._map=e;var t=document.createElement("div");t.className="mapLabel",t.style.width=this._width+"px",t.style.height=this._height+"px",this._data&&(t.innerHTML=this._data+"<div class='dir'></div>");var n=this._drag;return t.onmouseover=function(){n||$.baiduMap.disableDragging()},t.onmouseout=function(){n||$.baiduMap.enableDragging()},e.getPanes().markerPane.appendChild(t),this._div=t,t},e.prototype.draw=function(){var e=this._map.pointToOverlayPixel(this._center);this._div.style.left=e.x-(this._width+12)/2-9+"px",this._div.style.top=e.y-this._height-28+"px"},e.prototype.show=function(){this._div&&(this._div.style.display="")},e.prototype.hide=function(){this._div&&(this._div.style.display="none")},e.prototype.getDiv=function(){return this._div},e},setCenter:function(e,t){if(this.baiduMap===null)return!1;this.baiduMap.setCenter(new BMap.Point(e,t))},panTo:function(e,t){if(this.baiduMap===null)return!1;this.baiduMap.panTo(new BMap.Point(e,t))},clearOverlay:function(){if(this.baiduMap===null)return!1;this.baiduMap.clearOverlays()},getZoom:function(){return this.baiduMap===null?!1:this.baiduMap.getZoom()}})